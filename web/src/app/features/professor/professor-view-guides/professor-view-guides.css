/* =========================================
   1. CONFIGURACIÓN BASE
   ========================================= */
:host {
    display: block;
    min-height: 100vh;
    padding: 1rem;
}

.guides-container { 
    max-width: 1400px; 
    margin: 0 auto; 
}

/* =========================================
   2. HEADER PRINCIPAL
   ========================================= */
.page-header { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    margin-bottom: 2rem; 
    flex-wrap: wrap; 
    gap: 1rem; 
}
.header-content h1 { margin: 0; font-size: 1.5rem; font-weight: 700; color: var(--text-main); }
.header-content p { margin: 0.25rem 0 0; color: var(--text-secondary); font-size: 0.9rem; }
.header-actions { display: flex; gap: 0.5rem; }

/* =========================================
   3. BARRA DE FILTROS HORIZONTAL
   ========================================= */
.filter-bar {
    background: var(--bg-card); 
    border: 1px solid var(--border-color);
    border-radius: 12px; 
    padding: 1.25rem; 
    box-shadow: 0 2px 10px rgba(0,0,0,0.02); 
    margin-bottom: 1.5rem;
}
.horizontal-filters { 
    display: flex; 
    flex-direction: row; 
    align-items: center; 
    gap: 10px; 
    width: 100%; 
}
.filter-item { 
    flex: 1; 
    min-width: 0; 
}

/* Ajustes de PrimeNG para el input de búsqueda */
:host ::ng-deep .horizontal-filters .p-inputtext { 
    width: 100% !important; 
    height: 42px; 
    display: flex; 
    align-items: center; 
}

/* =========================================
   4. TABLAS Y TEXTOS
   ========================================= */
.text-main { color: var(--text-main); }
.text-secondary { color: var(--text-secondary); }

.line-height-2 {
    line-height: 1.5;
    display: -webkit-box;
    -webkit-line-clamp: 2; /* Trunca textos muy largos a 2 líneas */
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Ocultar etiquetas de columnas en PC (Solo se usan en la vista móvil) */
.p-column-title { 
    display: none; 
}

/* =========================================
   5. RESPONSIVE MÓVIL (TABLA A LISTA)
   ========================================= */
@media screen and (max-width: 768px) {
    :host { padding: 0.5rem; }
    
    .page-header { flex-direction: column; align-items: flex-start; gap: 1rem; }
    .header-content { width: 100%; justify-content: center; }

    /* Filtros hacia abajo si hubiera más de uno */
    .horizontal-filters { flex-direction: column !important; align-items: stretch !important; }
    .filter-item { width: 100% !important; margin-bottom: 0.5rem; }

    /* Ocultar el Thead nativo de la tabla en celulares */
    :host ::ng-deep .p-datatable-sm .p-datatable-thead > tr > th {
        display: none !important;
    }

    /* Convertir Celdas en Bloques */
    :host ::ng-deep .p-datatable-sm .p-datatable-tbody > tr > td {
        text-align: left !important;
        display: block;
        width: 100% !important;
        box-sizing: border-box;
        border: 0 none !important;
        padding: 0.75rem 1rem !important;
    }

    /* Mostrar Títulos de Columnas en Móvil */
    :host ::ng-deep .p-datatable-sm .p-datatable-tbody > tr > td .p-column-title {
        display: block;
        font-weight: 700;
        margin-bottom: 0.5rem;
        font-size: 0.85rem;
        color: var(--text-secondary);
        text-transform: uppercase;
    }

    /* Separador entre registros (filas) */
    :host ::ng-deep .p-datatable-sm .p-datatable-tbody > tr > td:last-child {
        border-bottom: 2px solid var(--border-color) !important;
        padding-bottom: 1.5rem !important;
    }

    /* Alinear el botón de descarga a la izquierda en móviles */
    :host ::ng-deep .p-datatable-sm .p-datatable-tbody > tr > td:last-child .flex {
        justify-content: flex-start !important;
    }
}