@import "primeicons/primeicons.css";

/* =========================================
   1. VARIABLES DE TEMA (MODO CLARO)
   ========================================= */
:root {
    --bg-main: #f8f9fa;       
    --bg-card: #ffffff;       
    --text-main: #1e293b;     
    --text-secondary: #64748b; 
    --border-color: #e2e8f0;  
    --primary-color: #3b82f6; 
    --accent-color: #3b82f6; 

    /* Variables PrimeNG por defecto (Claro) */
    --surface-ground: #f8f9fa;
    --surface-card: #ffffff;
    --surface-overlay: #ffffff;
    --surface-border: #e2e8f0;
    --text-color: #1e293b;
    --text-color-secondary: #64748b;
}

/* =========================================
   2. MODO OSCURO (Override Maestro)
   ========================================= */
body.dark-mode {
    /* Tus variables personalizadas */
    --bg-main: #0f172a;       
    --bg-card: #1e293b;       
    --text-main: #f1f5f9;     
    --text-secondary: #94a3b8; 
    --border-color: #334155;  
    --primary-color: #60a5fa; 
    --accent-color: #60a5fa;

    /* 游댠 HACK PRIMENG: Obligamos a la librer칤a a usar nuestros colores 游댠 */
    --surface-ground: var(--bg-main) !important;
    --surface-card: var(--bg-card) !important;
    --surface-overlay: var(--bg-card) !important;
    --surface-border: var(--border-color) !important;
    --surface-input: var(--bg-main) !important;
    --text-color: var(--text-main) !important;
    --text-color-secondary: var(--text-secondary) !important;
    
    /* Capas de profundidad PrimeNG */
    --surface-a: var(--bg-card) !important;
    --surface-b: var(--bg-main) !important;
    --surface-c: var(--bg-card) !important;
    --surface-d: var(--bg-card) !important;
}

/* =========================================
   3. ESTILOS BASE
   ========================================= */
html, body {
    margin: 0; padding: 0; height: 100%;
    font-family: 'Segoe UI', system-ui, sans-serif;
    background-color: var(--bg-main);
    color: var(--text-main);
    transition: background-color 0.3s, color 0.3s;
}

h1, h2, h3, h4, h5, h6 { color: var(--text-main); margin: 0; }
p, small, span, div { color: inherit; }

/* =========================================
   4. FORMULARIOS (.field)
   ========================================= */
.field {
    display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 1.5rem; width: 100%;
}
.field label {
    font-weight: 600; color: var(--text-main); font-size: 0.9rem;
}
.field input, .field textarea, .field p-dropdown, .field p-calendar, 
.field p-password, .field p-inputNumber, .field .p-inputtext, .field .p-component {
    width: 100% !important;
}

/* =========================================
   5. MODALES (Responsive y Color)
   ========================================= */
.p-dialog .p-dialog-content,
.p-dialog .p-dialog-header,
.p-dialog .p-dialog-footer {
    background-color: var(--bg-card) !important;
    color: var(--text-main) !important;
    border-color: var(--border-color) !important;
}
.p-dialog-title { color: var(--text-main) !important; }
.p-dialog-header-icon { color: var(--text-secondary) !important; }

@media (max-width: 768px) {
    .p-dialog { max-height: 95vh !important; margin: 10px; }
    .p-dialog .p-dialog-content { max-height: calc(90vh - 120px) !important; padding: 1rem !important; }
}

/* =========================================
   6. TABLAS (Fix Global Definitivo)
   ========================================= */
/* Fondo transparente para que tome el color del contenedor */
.p-datatable .p-datatable-header,
.p-datatable .p-datatable-thead > tr > th,
.p-datatable .p-datatable-tbody > tr > td,
.p-datatable .p-datatable-footer,
.p-paginator {
    background-color: var(--bg-card) !important;
    color: var(--text-main) !important;
    border-color: var(--border-color) !important;
}

/* Filas alternas en modo oscuro */
body.dark-mode .p-datatable .p-datatable-tbody > tr {
    background-color: var(--bg-card) !important;
    color: var(--text-main) !important;
}

body.dark-mode .p-datatable .p-datatable-tbody > tr:hover {
    background-color: rgba(255, 255, 255, 0.05) !important;
}

/* Inputs de Filtro en Tablas */
body.dark-mode .p-column-filter-row .p-inputtext {
    background-color: var(--bg-main) !important;
    color: var(--text-main) !important;
    border-color: var(--border-color) !important;
}

/* Dropdowns en modo oscuro */
body.dark-mode .p-dropdown-panel, 
body.dark-mode .p-dropdown-items-wrapper {
    background-color: var(--bg-card) !important;
    border-color: var(--border-color) !important;
}
body.dark-mode .p-dropdown-item {
    color: var(--text-main) !important;
}
body.dark-mode .p-dropdown-item:hover {
    background-color: var(--border-color) !important;
}

/* ============================================================
   FULLCALENDAR: CONFIGURACI칍N MAESTRA (Header + L칤neas Finas)
   ============================================================ */

/* 1. CABECERA TRANSPARENTE (Arreglo para Modo Oscuro/Claro) */
.fc-theme-standard th,
.fc-theme-standard .fc-scrollgrid-section-header,
.fc-theme-standard .fc-scrollgrid-section-header th,
.fc-theme-standard .fc-scrollgrid-section-header td {
    background: transparent !important;
    background-color: transparent !important;
    /* Solo dejamos una l칤nea fina abajo para separar los d칤as de las horas */
    border: none !important;
    border-bottom: 1px solid var(--surface-border) !important;
}

/* 2. TEXTO DEL HEADER (Lunes, Martes...) - ADAPTABLE */
.fc-col-header-cell-cushion,
a.fc-col-header-cell-cushion {
    color: var(--text-color) !important; 
    text-decoration: none !important;
    font-weight: 800 !important;
    text-transform: uppercase !important;
}

/* 3. L칈NEAS DE LA ESTRUCTURA (Bordes externos) */
.fc-theme-standard .fc-scrollgrid {
    border: 1px solid var(--surface-border) !important;
}

/* 4. L칈NEAS DE LA CUADR칈CULA (Verticales y Horizontales) */
/* Usamos 1px con el color de borde suave del tema */
.fc-theme-standard td,
.fc-theme-standard th {
    border: 1px solid var(--surface-border) !important;
}

/* 5. L칈NEAS HORIZONTALES DE LAS HORAS */
.fc-timegrid-slot {
    border-bottom: 1px solid var(--surface-border) !important;
}


/* ============================================================
   AJUSTES PARA CELULAR (M칍VIL)
   ============================================================ */

/* =========================================
   7. TOAST (Notificaciones)
   ========================================= */
@media screen and (max-width: 768px) {
    .p-toast {
        width: 90vw !important; left: 50% !important; transform: translateX(-50%);
        top: 20px !important; right: auto !important;
    }

    /* 1. Reducir el tama침o de la letra de Lunes, Martes... */
    .fc-col-header-cell-cushion,
    a.fc-col-header-cell-cushion {
        font-size: 0.7rem !important; /* Letra m치s peque침a */
        padding: 5px 0 !important;    /* Menos espacio arriba y abajo */
        font-weight: 700 !important;
    }

    /* 2. Reducir la altura de la fila del encabezado */
    .fc-theme-standard .fc-scrollgrid-section-header th {
        height: auto !important;
    }

    /* 3. Reducir el tama침o de las horas a la izquierda (08:00...) */
    .fc-timegrid-slot-label-cushion {
        font-size: 0.65rem !important;
    }

    /* 4. Ajustar el t칤tulo del mes (ej: febrero de 2026) */
    .fc-toolbar-title {
        font-size: 1.1rem !important;
    }
    
    /* 5. Hacer los botones de navegaci칩n m치s compactos */
    .fc-button {
        padding: 0.4rem 0.6rem !important;
        font-size: 0.8rem !important;
    }
    
}